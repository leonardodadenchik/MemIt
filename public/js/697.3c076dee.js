"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[697],{3691:function(e,t){const i=(location.origin.replace(/^http/,"ws")+":80/").replace(":3000","").replace(":8080",""),r=new WebSocket(i);t["Z"]=r},1697:function(e,t,i){i.r(t),i.d(t,{default:function(){return _}});var r=i(3396),a=i(7139);const o=e=>((0,r.dD)("data-v-0286d1f4"),e=e(),(0,r.Cn)(),e),s={class:"wait"},n=o((()=>(0,r._)("h1",null,"Очікування гравців",-1))),c={class:"codeInformatin"},d={class:"playersModeration"},l={class:"roomPlayer"},p=["onClick"],y={class:"buttonZone"};function m(e,t,i,o,m,u){return(0,r.wg)(),(0,r.iD)("div",s,[n,(0,r._)("div",c,[(0,r._)("h2",null,"Код кімнати: "+(0,a.zw)(i.code),1),(0,r._)("button",{onClick:t[0]||(t[0]=e=>u.copyLink())},"Копіювати посилання")]),(0,r._)("div",d,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.roomPlayers,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"playersBlocks"},[(0,r._)("div",l,[(0,r._)("p",null,(0,a.zw)(t+1)+" - "+(0,a.zw)(e),1),1==m.myid&&0!==t?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:e=>u.playerKick(t+1,!1)}," Видалити ",8,p)):(0,r.kq)("",!0)])])))),128))]),(0,r._)("div",y,[1==m.myid&&m.roomPlayers.length>1?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[1]||(t[1]=e=>u.startMyGame())}," Розпочати гру ")):(0,r.kq)("",!0),(0,r._)("button",{onClick:t[2]||(t[2]=e=>u.exitGame())},"Вийти")])])}var u=i(3691),h={data(){return{myid:this.propMyId,roomPlayers:this.propPlayerList,timesDestroyPage:-1}},props:{propPlayerList:{type:Array,required:!0},code:{type:String,required:!0},propMyId:{type:[Number,String],required:!0}},methods:{myselfUpdatingFunc(){u.Z.onmessage=e=>{switch(e=JSON.parse(e.data),e.content){case"players_names":this.roomPlayers=e.nicknames,this.myid=e.player_id;break;case"start_game":this.gotGameStart();break;case"kick":this.$router.push({name:"join",params:{propCode:this.code,request:"Ти був вигнаний з кімнати"}});break}},window.onbeforeunload=function(){this.playerKick(this.myid,!0)}},gotGameStart(){this.$router.push({name:"game",params:{propPlayerNameList:this.roomPlayers,code:this.code,myId:this.myid}})},startMyGame(){u.Z.send(JSON.stringify({content:"start_game",room_code:this.code})),this.gotGameStart()},exitGame(){this.playerKick(this.myid,!0),this.$router.push({name:"join",params:{propCode:this.code,request:"впевненний?"}})},playerKick(e,t){u.Z.send(JSON.stringify({content:"delete_player",room_code:this.code,player_id:e,isExit:t}))},getJoinLink(){return`${location.origin}/joinByLink/${this.code}`},copyLink(){navigator.clipboard.writeText(this.getJoinLink())}},created(){var e=setInterval((()=>{0!=u.Z.readyState&&(clearInterval(e),this.myselfUpdatingFunc())}),100)}},k=i(89);const g=(0,k.Z)(h,[["render",m],["__scopeId","data-v-0286d1f4"]]);var _=g}}]);
//# sourceMappingURL=697.3c076dee.js.map